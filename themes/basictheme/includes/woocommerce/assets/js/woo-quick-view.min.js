(s=>{let t=s(".mode-quick-view-product"),e=s(".btn-quick-view-product"),a=s(".loading-body"),o=s(".quick-view-product-body"),i=(e.on("click",function(t){t.preventDefault();let e=s(this).data("id-product");return s.ajax({url:woo_quick_view_product.url,type:"POST",data:{action:"basictheme_get_quick_view_product",product_id:e},success:function(t){t&&(o.empty().append(t),a.fadeOut())},complete:function(){i(e)}}),!1}),function(t){let e=s("#et-quickview"),a=e.children("#product-"+t),i=a.find("form.cart"),o=a.hasClass("product-type-variable"),r=s("#et-quickview-slider"),d=a.find(".et-quickview-owl");if(d.owlCarousel({items:1,loop:!0,nav:!1,autoplaySpeed:800,navSpeed:800,dotsSpeed:800}),o&&(i.wc_variation_form().find(".variations select:eq(0)").change(),r.length)){r.hasClass("owl-carousel")&&(r=s(".owl-item:not(.cloned)",r).eq(0));let o=s(".item-image",r).eq(0).find("img");a=o.attr("src"),o.attr("data-src")&&(a=o.attr("data-src")),i.on("show_variation",function(t,e){var a=e.image.url;e.hasOwnProperty("image")&&a&&(void 0!==(e=s(".et-quickview-owl").find('.owl-item:not(.cloned) img[src="'+a+'"]').closest(".item-image").data("index"))?d.trigger("to.owl.carousel",e,[800]):a!==o.attr("src")&&(o.attr("src",a).attr("srcset",""),d.trigger("to.owl.carousel",0,[800])))}).on("reset_image",function(){o.attr("src",a).attr("srcset",""),d.trigger("to.owl.carousel",0,[800])})}});t.on("hidden.bs.modal",function(){a.fadeIn(),o.empty()}),o.on("click",".single_add_to_cart_button",function(t){t.preventDefault();let e=s(".content_product_detail"),a=(e.find(".notice").addClass("d-none"),s(this)),i=a.closest("form.cart"),o=i.hasClass("grouped_form"),r,d,n="",c,u;if(o){t=i.serializeArray();let a=[],o=[];t.length&&t.map(function(e){if("add-to-cart"===e.name)n=e.value;else{let t=parseInt(e.name.replace(/[^0-9.]/g,""));e=e.value;a.push(t),o.push(e)}});var l={};for(let t=0;t<a.length;t++)l[a[t]]=o[t];u={action:"basictheme_woo_ajax_add_to_cart",product_id:n,product_sku:"",items:l,type_product:"grouped"}}else r=a.val(),d=i.find("input[name=quantity]").val()||1,n=i.find("input[name=product_id]").val()||r,c=i.find("input[name=variation_id]").val()||0,u={action:"basictheme_woo_ajax_add_to_cart",product_id:n,product_sku:"",quantity:d,variation_id:c,type_product:""};return s(document.body).trigger("adding_to_cart",[a,u]),s.ajax({url:woo_quick_view_product.url,type:"POST",data:u,beforeSend:function(){a.removeClass("added").addClass("loading")},complete:function(){a.addClass("added").removeClass("loading")},success:function(t){t.error&&t.product_url?window.location=t.product_url:""===t?e.find(".notice").removeClass("d-none"):s(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])}}),!1})})(jQuery);